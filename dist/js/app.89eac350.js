(function(e){function t(t){for(var s,r,o=t[0],c=t[1],u=t[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},a={app:0},i=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),a=n.n(s);a.a},"067a":function(e,t,n){"use strict";var s=n("2dc7"),a=n.n(s);a.a},"09cf":function(e,t,n){},1:function(e,t){},"19c6":function(e,t,n){"use strict";var s=n("fd02"),a=n.n(s);a.a},2:function(e,t){},"219a":function(e,t,n){"use strict";var s=n("801d"),a=n.n(s);a.a},"2dc7":function(e,t,n){},3:function(e,t){},"34ec":function(e,t,n){},3946:function(e,t,n){},4:function(e,t){},"4e9b":function(e,t,n){"use strict";var s=n("3946"),a=n.n(s);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],o={name:"App"},c=o,u=(n("034f"),n("2877")),l=Object(u["a"])(c,i,r,!1,null,null,null),d=l.exports,m=(n("b0c0"),n("ade3")),p=n("2f62"),f=function(e){try{return JSON.parse(localStorage.getItem(e))}catch(t){return null}},v=function(e,t){localStorage.setItem(e,JSON.stringify(t))},g=function(e){v(e.name,e)},h="OPEN_LOGIN_FORM",b="CLOSE_LOGIN_FORM",y="OPEN_REGISTRATION_FORM",_="CLOSE_REGISTRATION_FORM",w="UPDATE_USER",C="OPEN_BUY_INSURANCE",N="CLOSE_BUY_INSURANCE",O="TRANSACTION_HASH",P=n("d4ec"),k=function e(t){Object(P["a"])(this,e),Object(m["a"])(this,"transactions",[]),this.name=t.name,this.password=t.password,Array.isArray(t.transactions)&&t.transactions.length>0&&(this.transactions=t.transactions)};a["a"].use(p["a"]);var I={user:{transactions:[]},windowDialogs:{isLoginFormDialogOpened:!1,isRegistryFormDialogOpened:!1,isBuyInsuranceDialogOpened:!1}},F={isLoginFormDialogOpened:function(e){return e.windowDialogs.isLoginFormDialogOpened},isRegistryFormDialogOpened:function(e){return e.windowDialogs.isRegistryFormDialogOpened},userName:function(e){return e.user.name},isBuyInsuranceDialogOpened:function(e){return e.windowDialogs.isBuyInsuranceDialogOpened},transactions:function(e){return e.user.transactions}},j={loginUser:function(e,t){var n=e.commit,s=new k(t);n(w,s)},registerNewUser:function(e,t){var n=e.commit,s=new k(t);g(s),n(w,s)},openLoginForm:function(e){var t=e.commit;t(h)},closeLoginForm:function(e){var t=e.commit;t(b)},openRegistryForm:function(e){var t=e.commit;t(y)},closeRegistryForm:function(e){var t=e.commit;t(_)},openBuyInsurance:function(e){var t=e.commit;t(C)},closeBuyInsurance:function(e){var t=e.commit;t(N)},transactionHash:function(e,t){var n=e.commit;n(O,t)}},x=(s={},Object(m["a"])(s,h,(function(e){e.windowDialogs.isLoginFormDialogOpened=!0})),Object(m["a"])(s,b,(function(e){e.windowDialogs.isLoginFormDialogOpened=!1})),Object(m["a"])(s,y,(function(e){e.windowDialogs.isRegistryFormDialogOpened=!0})),Object(m["a"])(s,_,(function(e){e.windowDialogs.isRegistryFormDialogOpened=!1})),Object(m["a"])(s,w,(function(e,t){void 0===t.transactions?e.user=t:e.transactions=t.transactions[0],e.user=t})),Object(m["a"])(s,C,(function(e){e.windowDialogs.isBuyInsuranceDialogOpened=!0})),Object(m["a"])(s,N,(function(){I.windowDialogs.isBuyInsuranceDialogOpened=!1})),Object(m["a"])(s,O,(function(e,t){e.user.transactions.push(t),g(e.user)})),s),D=new p["a"].Store({state:I,getters:F,actions:j,mutations:x}),R=D,$=n("8c4f"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"header-block"},[e._m(0),n("div",{staticClass:"selector-block",on:{click:e.a}},[n("ul",[n("li",{staticClass:"selector",on:{click:e.loginForm}},[e._v("Вхід")]),n("li",{staticClass:"selector",on:{click:e.registryForm}},[e._v("Реєстрація")])])])]),n("div",{staticClass:"insurance-block"},[n("div",{staticClass:"header-title"},[e._v("Blokchain Insuranse")]),n("InsuranceTypeItem")],1),e.isLoginFormDialogOpened?n("loginModal"):e._e(),e.isRegistryFormDialogOpened?n("Registration"):e._e()],1)},B=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"selector-block-title"},[n("ul",[n("li",{staticClass:"selector"},[e._v("Головна")])])])}],L=n("5530"),M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"insurance-type-block"},e._l(e.insuranceTypeLists,(function(t,s){return n("li",{key:s,staticClass:"insurance-type"},[n("div",{staticClass:"insurance-title"},[e._v(e._s(t.name))]),n("div",{staticClass:"insurance-image",class:t.img}),n("button",{staticClass:"insurance-button",on:{click:e.authorization}},[e._v("Купити")])])})),0)},S=[],T={data:function(){return{insuranceTypeLists:[{name:"Страхування авто",img:"auto"},{name:"Страхування здоров'я",img:"health"}]}},methods:{authorization:function(){this.$store.dispatch("openLoginForm")}}},U=T,A=(n("219a"),Object(u["a"])(U,M,S,!1,null,"1297622b",null)),K=A.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[n("div",{staticClass:"login-block"},[n("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("button",{staticClass:"button-close-modal",on:{click:e.modalClose}}),n("h3",[e._v("Login")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{placeholder:"Login",required:""},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),e.isUserNoRegistry?n("div",{staticClass:"wrong-user-name"},[e._v("Цей користувач незареєстрований")]):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userPassword,expression:"userPassword"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.userPassword},on:{input:function(t){t.target.composing||(e.userPassword=t.target.value)}}}),n("button",{staticClass:"submit-button",on:{click:e.login}},[e._v("Увійти")]),n("a",{staticClass:"registry",on:{click:e.registryForm}},[e._v("Реєстрація")])])])])},q=[],H={data:function(){return{userName:"",userPassword:"",isUserNoRegistry:!1}},methods:{modalClose:function(){this.$store.dispatch("closeLoginForm")},registryForm:function(){this.$store.dispatch("closeLoginForm"),this.$store.dispatch("openRegistryForm")},login:function(){var e=f(this.userName);if(!e)return this.isUserNoRegistry=!0;v("userName",this.userName),this.$store.dispatch("loginUser",e),this.$router.push({name:"dashboard"}),this.$store.dispatch("closeLoginForm")}}},J=H,z=(n("cdc9"),Object(u["a"])(J,G,q,!1,null,"1020e9e2",null)),W=z.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[n("div",{staticClass:"registration-block"},[n("div",{staticClass:"registry-block"},[n("button",{staticClass:"button-close-modal",on:{click:e.closeModal}}),n("form",{staticClass:"registry-form",on:{submit:function(t){return t.preventDefault(),e.registry(t)}}},[n("h1",[e._v("Registry")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{placeholder:"User name",required:""},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatPassword,expression:"repeatPassword"}],attrs:{type:"password",placeholder:"Repeat password",required:""},domProps:{value:e.repeatPassword},on:{input:function(t){t.target.composing||(e.repeatPassword=t.target.value)}}}),n("button",{staticClass:"submit-button"},[e._v("Зареєструватись")]),n("a",{staticClass:"login-ref",on:{click:e.loginForm}},[e._v("Login")])])])])])},V=[],Q={data:function(){return{userName:"",password:"",repeatPassword:""}},methods:{closeModal:function(){this.$store.dispatch("closeRegistryForm")},loginForm:function(){this.$store.dispatch("closeRegistryForm"),this.$store.dispatch("openLoginForm")},registry:function(){this.$store.dispatch("registerNewUser",{name:this.userName,password:this.password}),v("userName",this.userName),this.$router.push({name:"dashboard"}),this.$store.dispatch("closeRegistryForm")}}},X=Q,Z=(n("ffad"),Object(u["a"])(X,Y,V,!1,null,"d41c4b52",null)),ee=Z.exports,te=n("e7ea"),ne={data:function(){return{user:v("userName")}},computed:Object(L["a"])({},Object(p["b"])(["isLoginFormDialogOpened","isRegistryFormDialogOpened"])),components:{InsuranceTypeItem:K,loginModal:W,Registration:ee},methods:{loginForm:function(){this.$store.dispatch("openLoginForm")},registryForm:function(){this.$store.dispatch("openRegistryForm")},a:function(){}},mounted:function(){}},se=ne,ae=(n("067a"),Object(u["a"])(se,E,B,!1,null,"b20978fc",null)),ie=ae.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"header-block"},[n("div",{staticClass:"selector-block-title"},[n("ul",[n("li",{staticClass:"selector",on:{click:function(t){return e.$router.push({name:"landingPage"})}}},[e._v("Головна")]),n("li",{staticClass:"selector",on:{click:function(t){return e.$router.push({name:"dashboard"})}}},[e._v("Dashboard")])])]),n("div",{staticClass:"selector-block"},[n("ul",[n("li",{staticClass:"selector"},[e._v(e._s(e.userName))])])])]),n("div",{staticClass:"insurance-block"},[n("div",{staticClass:"header-title"},[e._v("Виберіть страхування")]),n("div",{staticClass:"insurance-info"},[n("InsuranceInfo",{attrs:{insuranceName:e.insuranceTypes[0]},on:{insuranceMenu:e.insuranceMenu}}),e.isMenuOpen?n("InsurenseMenu",{attrs:{insurancePricing:e.insuranceTypes[0].pricing}}):e._e()],1),n("div",{staticClass:"grid"},[n("TransactioGrid")],1)])])},oe=[],ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table"},[n("thead",e._l(e.columns,(function(t,s){return n("th",{key:s},[e._v(e._s(t))])})),0),n("tbody",e._l(e.transactions,(function(e,t){return n("GridItems",{key:t,attrs:{transactionmodel:e}})})),1)])},ue=[],le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("td",[e._v(e._s(e.transactionmodel.firstName+" ")+e._s(e.transactionmodel.lastName))]),n("td",[e._v(e._s(e.transactionmodel.carBrand+" ")+e._s(e.transactionmodel.regNumber))]),n("td",[e._v(e._s(e.transactionmodel.validity))]),n("td",[n("a",{attrs:{target:"_blank",href:e.transactionmodel.url}},[e._v(e._s(e.transactionmodel.hash))])])])},de=[],me={data:function(){return{}},props:{transactionmodel:Object}},pe=me,fe=(n("19c6"),Object(u["a"])(pe,le,de,!1,null,"1810b8ea",null)),ve=fe.exports,ge={data:function(){return{columns:["Імя та Прізвище","Параметри стахування","Термін дії","Транзакція"]}},components:{GridItems:ve},computed:Object(L["a"])({},Object(p["b"])(["transactions"]))},he=ge,be=(n("c775"),Object(u["a"])(he,ce,ue,!1,null,"07757fb4",null)),ye=be.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"insurans-type"},[n("div",{staticClass:"insuranse-title"},[e._v(" "+e._s(e.insuranceName.name)+" "),n("button",{staticClass:"insuranse-button",on:{click:e.insuranceMenu}},[e._v("+")])])])},we=[],Ce={data:function(){return{}},props:{insuranceName:Object},methods:{insuranceMenu:function(){this.$emit("insuranceMenu")}},mounted:function(){}},Ne=Ce,Oe=(n("eca1"),Object(u["a"])(Ne,_e,we,!1,null,"9e686b92",null)),Pe=Oe.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"insuranse-menu"},[e._l(e.insurancePricing,(function(t,s){return n("div",{key:s,staticClass:"block"},[n("div",{staticClass:"block-item name"},[e._v(e._s(t.name))]),n("div",{staticClass:"block-item price"},[e._v(e._s(t.price)+" Ethereum")]),n("button",{staticClass:"block-item button",on:{click:function(n){return e.modalEntered(t,s)}}},[e._v("Купити")])])})),e.isBuyInsuranceDialogOpened?n("BuyInsurance",{attrs:{insurancePrice:e.insurancePrice},on:{buyPolice:e.buyPolice}}):e._e()],2)},Ie=[],Fe=(n("d3b7"),n("25f0"),n("96cf"),n("1da1")),je=n("6314"),xe=n.n(je),De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[n("div",{staticClass:"container"},[n("div",{staticClass:"insuranse-block"},[n("div",{staticClass:"insurance"},[e._v("Insurance Auto")]),n("div",{staticClass:"insurance"},[e._v("Price:"+e._s(e.insurancePrice.price)+" Ethereum")]),n("div",{staticClass:"insurance"},[e._v("Validity:"+e._s(e.insurancePrice.name)+" ")])]),n("div",{staticClass:"input-block"},[n("div",{staticClass:"title"},[e._v("First Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],staticClass:"input-name",attrs:{type:"text",placeholder:"Please enter a first name"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}})]),n("div",{staticClass:"input-block"},[n("div",{staticClass:"title"},[e._v("Last Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],staticClass:"input-name",attrs:{type:"text",placeholder:"Please enter a last name"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}})]),n("div",{staticClass:"input-block"},[n("div",{staticClass:"title"},[e._v("Car brand:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.carBrand,expression:"carBrand"}],staticClass:"input-name",attrs:{type:"text",placeholder:"Car brand"},domProps:{value:e.carBrand},on:{input:function(t){t.target.composing||(e.carBrand=t.target.value)}}})]),n("div",{staticClass:"input-block"},[n("div",{staticClass:"title"},[e._v("Registration numbers:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.regNumber,expression:"regNumber"}],staticClass:"input-name",attrs:{type:"text",placeholder:"Example BC0007BA"},domProps:{value:e.regNumber},on:{input:function(t){t.target.composing||(e.regNumber=t.target.value)}}})]),n("div",{staticClass:"input-block"},[n("div",{staticClass:"title"},[e._v("Private key Ethereum wallet:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.privateKey,expression:"privateKey"}],staticClass:"input-name",attrs:{type:"text",placeholder:"Private Key"},domProps:{value:e.privateKey},on:{input:function(t){t.target.composing||(e.privateKey=t.target.value)}}})]),n("button",{staticClass:"buy-poilice",on:{click:function(t){return e.buyPolice()}}},[e._v("Buy Polices")])])])},Re=[],$e={data:function(){return{lastName:"",firstName:"",carBrand:"",regNumber:"",privateKey:""}},props:{insurancePrice:Object},methods:{buyPolice:function(){if(""!==this.privateKey){var e={lastName:this.lastName,firstName:this.firstName,carBrand:this.carBrand,regNumber:this.regNumber,privateKey:this.privateKey};this.$emit("buyPolice",e),this.$store.dispatch("closeBuyInsurance")}}}},Ee=$e,Be=(n("699f"),Object(u["a"])(Ee,De,Re,!1,null,"1b13750e",null)),Le=Be.exports,Me=["function buyPolice(string productName, uint price) public payable ","function getPoliciesCount() public view returns(uint count)","function getTermsCount() public view returns(uint count)","function fund() public view returns (uint prize)","function terms(uint term) public view returns (uint terms) "],Se=te["ethers"].getDefaultProvider("ropsten"),Te="0xe8951c880363435795a90616391f1f7c30d0b2b8",Ue=new te["ethers"].Contract(Te,Me,Se),Ae=function(e){return te["ethers"].utils.parseUnits(e,"wei")},Ke={data:function(){return{termId:"",insurancePrice:{}}},computed:Object(L["a"])({},Object(p["b"])(["isBuyInsuranceDialogOpened"])),props:{insurancePricing:Array},components:{BuyInsurance:Le},methods:{modalEntered:function(e,t){this.insurancePrice=e,console.log(t),this.termId=t,this.$store.dispatch("openBuyInsurance")},buyPolice:function(e){var t=this;return Object(Fe["a"])(regeneratorRuntime.mark((function n(){var s,a,i,r,o,c,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=new te["ethers"].Wallet(e.privateKey,Se),a=Ue.connect(s),i=e.carBrand+" "+e.regNumber,r=t.insurancePrice.price.toString(),o=xe.a.utils.toWei(r,"ether"),c={value:Ae(o)},n.next=8,a.buyPolice(i,t.termId,c);case 8:u=n.sent,e.hash=u.hash,e.validity=t.insurancePrice.name,e.url="https://ropsten.etherscan.io/tx/"+u.hash,l=f("userName"),v(l,e),t.$store.dispatch("transactionHash",e),window.open("https://ropsten.etherscan.io/tx/"+u.hash);case 16:case"end":return n.stop()}}),n)})))()}}},Ge=Ke,qe=(n("92f0"),Object(u["a"])(Ge,ke,Ie,!1,null,"1a224432",null)),He=qe.exports,Je={data:function(){return{insuranceTypes:[{name:"Страхування авто",pricing:[{name:"1 Місяць",price:.05,termId:0},{name:"12 Місяців",price:.2,termId:0}]}],userName:"",isMenuOpen:!1}},components:{InsuranceInfo:Pe,TransactioGrid:ye,InsurenseMenu:He},methods:{insuranceMenu:function(){this.isMenuOpen=!this.isMenuOpen}},mounted:function(){this.userName=f("userName")}},ze=Je,We=(n("4e9b"),Object(u["a"])(ze,re,oe,!1,null,"5282b8e4",null)),Ye=We.exports;a["a"].use($["a"]);var Ve=new $["a"]({routes:[{path:"/",name:"landingPage",component:ie},{path:"/dashboard",name:"dashboard",component:Ye}],mode:"history"});a["a"].config.productionTip=!1,new a["a"]({store:R,router:Ve,render:function(e){return e(d)}}).$mount("#app")},"699f":function(e,t,n){"use strict";var s=n("09cf"),a=n.n(s);a.a},"801d":function(e,t,n){},"85ec":function(e,t,n){},8872:function(e,t,n){},"92f0":function(e,t,n){"use strict";var s=n("c6f9"),a=n.n(s);a.a},ac2e:function(e,t,n){},c6f9:function(e,t,n){},c775:function(e,t,n){"use strict";var s=n("34ec"),a=n.n(s);a.a},cdc9:function(e,t,n){"use strict";var s=n("e9b4"),a=n.n(s);a.a},e9b4:function(e,t,n){},eca1:function(e,t,n){"use strict";var s=n("ac2e"),a=n.n(s);a.a},fd02:function(e,t,n){},ffad:function(e,t,n){"use strict";var s=n("8872"),a=n.n(s);a.a}});
//# sourceMappingURL=app.89eac350.js.map